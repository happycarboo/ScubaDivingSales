const axios = require("axios"); const cheerio = require("cheerio");
// EDIT THIS SECTION - PUT YOUR PRODUCT URL HERE
const productUrl = "https://www.lazada.sg/products/dive-box-stainless-steel-shaker-i2712954458-s18273448333.html";
async function extractPrice(url) { console.log(`Extracting from: ${url}`); try { const headers = { "User-Agent": "Mozilla/5.0" }; console.log("Fetching page..."); const response = await axios.get(url, { headers }); const html = response.data; const priceRegex = /\$([0-9,]+\.[0-9]{2})/g; const match = html.match(priceRegex); if (match && match[0]) { console.log(`Found price: ${match[0]}`); return match[0]; } const $ = cheerio.load(html); const selectors = [".pdp-price", "[data-price]", "[class*=\"price\"]"]; for (const selector of selectors) { const el = $(selector); if (el.length > 0) { const text = el.text().trim(); const priceMatch = text.match(/\$?([0-9,]+\.[0-9]{2})/); if (priceMatch) { return priceMatch[0]; } } } return null; } catch (error) { console.error(`Error: ${error.message}`); return null; } }
async function main() { console.log("== Simple Lazada Price Extractor =="); const startTime = Date.now(); const price = await extractPrice(productUrl); const endTime = Date.now(); if (price) { console.log(`Price: ${price}`); } else { console.log("Failed to extract price"); } console.log(`Time: ${(endTime - startTime) / 1000} seconds`); } main();
